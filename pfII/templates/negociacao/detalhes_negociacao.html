{% extends 'base_dashboard.html' %}

{% block dashboard_content %}

<div class="flex flex-1 flex-col">
    <header class="flex h-20 items-center justify-end border-b border-primary/20 px-10">
    </header>
    <main class="flex-1 bg-transparent py-10 px-4 sm:px-6 lg:px-8">
        <div class="w-full max-w-5xl mx-auto">
            <div class="mb-6">
                <a class="flex items-center gap-2 text-sm text-gray-500 hover:text-primary dark:text-gray-400 dark:hover:text-white mb-4"
                    href="{% url 'negociacoes' email_usuario=request.user.pk %}">
                    <span class="material-symbols-outlined">arrow_back</span>
                    Voltar para Negociações Correntes
                </a>
                <div>
                    <h1 class="text-3xl font-bold tracking-tight text-gray-900 dark:text-white">
                        <span class="text-gray-500 dark:text-gray-400">Negociações Correntes &gt;</span>
                        Detalhes da Negociação
                    </h1>
                </div>
            </div>
            <div class="flex items-center justify-between mb-8">
                <div class="flex items-center gap-4">
                    <span
                        class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300">
                        {{ negociacao.get_status_display }}
                    </span>
                </div>
            </div>
            <div class="space-y-8">
                <div class="rounded-lg border border-primary/20 bg-transparent shadow-sm">
                    <div class="p-6">
                        <h3 class="text-lg font-semibold leading-6 text-gray-900 dark:text-white">Catadores
                            Envolvidos</h3>
                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Lista de catadores e os valores
                            correspondentes para esta negociação.</p>
                    </div>
                    <div class="overflow-x-auto">
                        <div class="inline-block min-w-full align-middle">
                            <table class="min-w-full divide-y divide-primary/20">
                                <thead class="bg-transparent dark:bg-background-dark/30">
                                    <tr>
                                        <th class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-6"
                                            scope="col">
                                            Nome do Catador
                                        </th>
                                        <th class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white"
                                            scope="col">
                                            Quantidade de Resíduo (kg)
                                        </th>
                                        <th class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white"
                                            scope="col">
                                            Valor a Receber (R$)
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-primary/10 bg-transparent dark:bg-transparent">
                                    {% for producao in producoes_individuais.values %}
                                    <tr>
                                        <td
                                            class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-white sm:pl-6">
                                            {{ producao.producao.id_catador.nome }}
                                        </td>
                                        <td
                                            class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400">
                                            {{  producao.quantidade }}
                                        </td>
                                        <td class="whitespace-nowrap px-3 py-4 text-sm font-semibold text-primary">
                                            {{ producao.receber }}  </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="rounded-lg border border-primary/20 bg-transparent shadow-sm mt-8">
                    <div class="p-6">
                        <h3 class="text-lg font-semibold leading-6 text-gray-900 dark:text-white">Contestações
                            de Preço</h3>
                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Registro de contestações sobre
                            o preço negociado.</p>
                        <p class="mt-2 text-xs text-gray-500 dark:text-gray-400 italic">A primeira linha da
                            tabela representa o último preço negociado.</p>
                    </div>
                    <!-- <div class="overflow-x-auto">
                        <div class="inline-block min-w-full align-middle">
                            <table class="min-w-full divide-y divide-primary/20">
                                <thead class="bg-transparent dark:bg-background-dark/30">
                                    <tr>
                                        <th class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-6"
                                            scope="col">
                                            Contestador
                                        </th>
                                        <th class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white"
                                            scope="col">
                                            Justificativa
                                        </th>
                                        <th class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white"
                                            scope="col">
                                            Preço Proposto (R$)
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-primary/10 bg-transparent dark:bg-transparent">
                                    <tr>
                                        <td
                                            class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-white sm:pl-6">
                                            Empresa Recicla Tudo
                                        </td>
                                        <td
                                            class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400">
                                            Qualidade do material abaixo do esperado.</td>
                                        <td class="whitespace-nowrap px-3 py-4 text-sm font-semibold text-red-500">
                                            0,45/kg</td>
                                    </tr>
                                    <tr>
                                        <td
                                            class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-white sm:pl-6">
                                            Cooperativa CoopVerde
                                        </td>
                                        <td
                                            class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400">
                                            Aumento no custo de transporte.
                                        </td>
                                        <td class="whitespace-nowrap px-3 py-4 text-sm font-semibold text-green-500">
                                            0,55/kg</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div> -->
                </div>
                <div class="rounded-lg border border-primary/20 bg-transparent shadow-sm mt-8">
                    <div class="p-6">
                        <h3 class="text-lg font-semibold leading-6 text-gray-900 dark:text-white">Contestações
                            de Pagamento</h3>
                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Registro de contestações
                            relacionadas ao pagamento.</p>
                    </div>
                    <!-- <div class="overflow-x-auto">
                        <div class="inline-block min-w-full align-middle">
                            <table class="min-w-full divide-y divide-primary/20">
                                <thead class="bg-transparent dark:bg-background-dark/30">
                                    <tr>
                                        <th class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-6"
                                            scope="col">
                                            Justificativa
                                        </th>
                                        <th class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white"
                                            scope="col">
                                            Status
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-primary/10 bg-transparent dark:bg-transparent">
                                    <tr>
                                        <td
                                            class="whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-500 dark:text-gray-400 sm:pl-6">
                                            Valor recebido inferior ao acordado.</td>
                                        <td
                                            class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400">
                                            <span
                                                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300">
                                                Concluído
                                            </span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td
                                            class="whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-500 dark:text-gray-400 sm:pl-6">
                                            Atraso no pagamento.
                                        </td>
                                        <td
                                            class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400">
                                            <span
                                                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300">
                                                Concluído
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
    </main>
</div>

{% endblock %}